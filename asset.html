<!DOCTYPE html>
<html lang="en" dir="ltr"
      x-data="{ menuOpen:false }"
      x-init="if(!localStorage.getItem('currentUser')) location.href='index.html'">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Asset Details ‚Äì SmartTrader</title>

  <!-- Tailwind + Alpine + TradingView -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode:'class' };</script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <script src="https://s3.tradingview.com/tv.js"></script>

  <style>
    html{font-family:'Poppins',sans-serif}
    .glass{background:rgba(255,255,255,.2);backdrop-filter:blur(8px)}
    .gradient-text{background:linear-gradient(90deg,#4f46e5,#ec4899);
                   -webkit-background-clip:text;color:transparent}
    /* Dark tweaks */
    .dark body{background:#0f172a!important;color:#e2e8f0}
    .dark .glass{background:rgba(30,41,59,.6)}
    nav a:hover{background-color:rgba(99,102,241,.12)}
    .dark nav a:hover{background-color:#334155}
  </style>
</head>

<body class="min-h-screen flex flex-col
             bg-gradient-to-br from-gray-100 to-gray-200
             dark:from-gray-900 dark:to-gray-800 transition-colors">

  <!-- DARK / LIGHT TOGGLE (◊ß◊ï◊û◊§◊ß◊ò) -->
  <button id="theme-toggle"
          class="fixed bottom-4 right-4 z-50 w-12 h-12 rounded-full
                 flex items-center justify-center
                 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200
                 shadow-lg border border-gray-300 dark:border-gray-600
                 hover:scale-110 transition">
    <span id="light-icon">üåô</span>
    <span id="dark-icon" class="hidden">‚òÄÔ∏è</span>
  </button>

  <!-- HEADER -->
  <header class="sticky top-0 inset-x-0 glass shadow-md z-30">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row
                items-center justify-between px-6 py-4">

      <!-- Logo + Hamburger -->
      <div class="flex items-center justify-between w-full md:w-auto">
        <h1 class="text-2xl font-semibold gradient-text">SmartTrader</h1>
        <button @click="menuOpen=!menuOpen" class="relative w-8 h-8 md:hidden">
          <span class="absolute w-full h-0.5 bg-current transition"
                :class="menuOpen ? 'rotate-45 top-3' : 'top-1'"></span>
          <span class="absolute w-full h-0.5 bg-current transition"
                :class="menuOpen ? 'opacity-0' : 'top-3'"></span>
          <span class="absolute w-full h-0.5 bg-current transition"
                :class="menuOpen ? '-rotate-45 top-3' : 'top-5'"></span>
        </button>
      </div>

      <!-- NAV -->
      <nav :class="menuOpen ? 'block' : 'hidden'"
           class="w-full md:w-auto md:flex md:space-x-6 mt-4 md:mt-0">
        <a href="dashboard.html"
   class="block md:inline px-2 py-1 rounded
          bg-indigo-50 dark:bg-gray-700 font-semibold
          text-gray-800 dark:text-gray-200">Dashboard</a>

        <a href="sources.html"
           class="block md:inline px-2 py-1 rounded transition
                  text-gray-800 dark:text-gray-200">Sources</a>
        <a href="portfolio.html"
           class="block md:inline px-2 py-1 rounded transition
                  text-gray-800 dark:text-gray-200">Portfolio</a>
        <a href="statistics.html"
           class="block md:inline px-2 py-1 rounded transition
                  text-gray-800 dark:text-gray-200">Stats</a>
        <button onclick="logout()"
                class="w-full md:w-auto mt-2 md:mt-0 bg-indigo-600 hover:bg-indigo-700
                       text-white font-medium py-1 px-4 rounded-md">Logout</button>
      </nav>
    </div>
  </header>

  <!-- OFFSET -->
  <div class="h-16"></div>

  <!-- BREADCRUMB -->
  <nav class="max-w-6xl mx-auto px-6 py-3 text-sm
             text-gray-600 dark:text-gray-400 flex items-center space-x-2">
    <a href="dashboard.html" class="hover:text-indigo-600">Dashboard</a>
    <span>/</span>
    <span id="breadcrumbSymbol" class="font-medium">‚Ä¶</span>
  </nav>

  <!-- MAIN -->
  <main class="flex-1 max-w-6xl mx-auto p-6 space-y-8">

    <!-- Info Card -->
    <div x-data="{open:false}" class="glass rounded-2xl shadow-lg overflow-hidden">
      <div class="p-6 flex flex-col lg:flex-row lg:items-center lg:justify-between">
        <div class="flex items-center mb-4 lg:mb-0">
          <img id="assetLogo"
               class="w-12 h-12 mr-3 rounded-full bg-gray-100 dark:bg-gray-700 p-1"/>
          <h2 id="assetTitle" class="text-2xl font-semibold">‚Ä¶</h2>
        </div>
        <div class="flex items-center space-x-4">
          <p class="text-gray-500 dark:text-gray-400">Real-time USD Price</p>
          <p id="assetPrice" class="text-4xl font-bold">$0.00</p>
          <button @click="open=!open"
                  class="py-2 px-6 bg-gradient-to-r from-indigo-500 to-pink-500
                         hover:from-indigo-600 hover:to-pink-600 text-white
                         font-semibold rounded-xl shadow-md transform
                         transition hover:-translate-y-1">
            Analyze
          </button>
        </div>
      </div>
      <div x-show="open" x-transition
           class="p-6 border-t border-gray-200 dark:border-gray-700
                  bg-white/70 dark:bg-gray-800/70">
        <p class="text-gray-700 dark:text-gray-300">
          Detailed analysis &amp; controls here.
        </p>
      </div>
    </div>

    <!-- Chart -->
    <div class="glass p-6 rounded-2xl shadow-lg">
      <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">
        24h Price Chart
      </h3>
      <div id="tv_chart_container"
           class="w-full h-96 md:h-[500px] rounded-xl overflow-hidden
                  border border-gray-200 dark:border-gray-700"></div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="js/auth.js"></script>
  <script src="js/asset.js"></script>
  <script src="js/theme.js"></script>
  <script>
    document.getElementById('theme-toggle').onclick = () => Theme.toggle();
  </script>
</body>
</html>
